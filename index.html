<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FocusFlow | Enterprise Command Center</title>
    
    <!-- React & Babel -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <!-- Chart.js for Analytics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;500;600;700;800&family=DM+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        display: ['Sora', 'sans-serif'],
                        body: ['DM Sans', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        nexus: {
                            50: '#f0f4ff',
                            100: '#e0e9ff',
                            200: '#c7d6fe',
                            300: '#a4b8fc',
                            400: '#8193f8',
                            500: '#6366f1',
                            600: '#5046e5',
                            700: '#4338ca',
                            800: '#3730a3',
                            900: '#312e81',
                            950: '#1e1b4b',
                        },
                        surface: {
                            50: '#fafafa',
                            100: '#f4f4f5',
                            200: '#e4e4e7',
                            300: '#d4d4d8',
                            400: '#a1a1aa',
                            500: '#71717a',
                            600: '#52525b',
                            700: '#3f3f46',
                            800: '#27272a',
                            900: '#18181b',
                            950: '#09090b',
                        }
                    }
                }
            }
        }
    </script>
    
    <style>
        * { box-sizing: border-box; }
        
        body {
            font-family: 'DM Sans', sans-serif;
            background: #09090b;
            color: #fafafa;
            margin: 0;
            overflow: hidden;
        }
        
        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.2); }
        
        /* Glass Effects */
        .glass-dark {
            background: rgba(24, 24, 27, 0.8);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.06);
        }
        
        .glass-light {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255,255,255,0.05);
        }
        
        .glass-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.08);
        }
        
        .glass-elevated {
            background: rgba(39, 39, 42, 0.9);
            backdrop-filter: blur(24px);
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }
        
        /* Gradient Text */
        .gradient-text {
            background: linear-gradient(135deg, #a78bfa 0%, #6366f1 50%, #8b5cf6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .gradient-accent {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        }
        
        /* Sidebar */
        .sidebar-item {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .sidebar-item:hover {
            background: rgba(255,255,255,0.05);
            transform: translateX(4px);
        }
        .sidebar-item.active {
            background: linear-gradient(90deg, rgba(99,102,241,0.15) 0%, transparent 100%);
            border-left: 2px solid #6366f1;
        }
        
        /* Cards */
        .stat-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .stat-card:hover {
            transform: translateY(-4px);
            border-color: rgba(99,102,241,0.3);
            box-shadow: 0 20px 40px -12px rgba(99,102,241,0.15);
        }
        
        /* Task Cards */
        .task-card {
            transition: all 0.2s;
        }
        .task-card:hover {
            background: rgba(255,255,255,0.06);
            border-color: rgba(255,255,255,0.12);
        }
        .task-card.dragging {
            opacity: 0.5;
            border: 2px dashed #6366f1;
        }
        
        /* Priority Indicators */
        .priority-critical { border-left-color: #ef4444; }
        .priority-high { border-left-color: #f97316; }
        .priority-medium { border-left-color: #eab308; }
        .priority-low { border-left-color: #22c55e; }
        
        /* Role Badges */
        .role-founder { background: linear-gradient(135deg, #fbbf24, #f59e0b); }
        .role-ceo { background: linear-gradient(135deg, #a78bfa, #7c3aed); }
        .role-director { background: linear-gradient(135deg, #6366f1, #4f46e5); }
        .role-manager { background: linear-gradient(135deg, #3b82f6, #2563eb); }
        .role-lead { background: linear-gradient(135deg, #14b8a6, #0d9488); }
        .role-employee { background: linear-gradient(135deg, #64748b, #475569); }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(99,102,241,0.3); }
            50% { box-shadow: 0 0 40px rgba(99,102,241,0.5); }
        }
        
        .animate-fade-in { animation: fadeIn 0.4s ease-out forwards; }
        .animate-slide-in { animation: slideIn 0.3s ease-out forwards; }
        .animate-scale-in { animation: scaleIn 0.2s ease-out forwards; }
        .animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }
        
        /* Stagger children */
        .stagger-children > *:nth-child(1) { animation-delay: 0.05s; }
        .stagger-children > *:nth-child(2) { animation-delay: 0.1s; }
        .stagger-children > *:nth-child(3) { animation-delay: 0.15s; }
        .stagger-children > *:nth-child(4) { animation-delay: 0.2s; }
        .stagger-children > *:nth-child(5) { animation-delay: 0.25s; }
        
        /* Input Styles */
        .input-dark {
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.1);
            color: white;
            transition: all 0.2s;
        }
        .input-dark:focus {
            outline: none;
            background: rgba(255,255,255,0.06);
            border-color: rgba(99,102,241,0.5);
            box-shadow: 0 0 0 3px rgba(99,102,241,0.1);
        }
        .input-dark::placeholder { color: rgba(255,255,255,0.3); }
        
        /* Button Styles */
        .btn-primary {
            background: linear-gradient(135deg, #6366f1 0%, #7c3aed 100%);
            transition: all 0.2s;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px -5px rgba(99,102,241,0.4);
        }
        
        .btn-ghost {
            transition: all 0.2s;
        }
        .btn-ghost:hover {
            background: rgba(255,255,255,0.1);
        }
        
        /* Hierarchy Tree Lines */
        .hierarchy-line {
            position: absolute;
            left: 20px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(180deg, rgba(99,102,241,0.3) 0%, transparent 100%);
        }
        
        /* Tab Active */
        .tab-active {
            background: rgba(99,102,241,0.15);
            color: #a5b4fc;
            border-color: #6366f1;
        }
        
        /* Progress Bar */
        .progress-bar {
            background: linear-gradient(90deg, #6366f1, #8b5cf6, #a78bfa);
            background-size: 200% 100%;
            animation: shimmer 2s ease-in-out infinite;
        }
        
        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        /* Dropdown Menu */
        .dropdown-menu {
            animation: scaleIn 0.15s ease-out forwards;
            transform-origin: top right;
        }
        
        /* Kanban Column */
        .kanban-column {
            min-height: 400px;
        }
        
        /* Vision Board */
        .vision-element {
            cursor: grab;
            transition: box-shadow 0.2s, transform 0.2s;
        }
        .vision-element:active {
            cursor: grabbing;
        }
        .vision-element:hover {
            transform: scale(1.02);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
        
        /* Notification Badge */
        .notification-badge {
            animation: pulse-glow 2s ease-in-out infinite;
        }
        
        /* Chart Container */
        .chart-container {
            position: relative;
            height: 200px;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, useRef, useMemo, useCallback, createContext, useContext } = React;

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // FIREBASE CONFIGURATION
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const firebaseConfig = {
            apiKey: "AIzaSyCuQLeXXVYEgG9TJ1XR_FvlD1ABqsgEXX4",
            authDomain: "focus-flow-512ee.firebaseapp.com",
            projectId: "focus-flow-512ee",
            storageBucket: "focus-flow-512ee.firebasestorage.app",
            messagingSenderId: "861618381374",
            appId: "1:861618381374:web:4692b742e3661e539c676f"
        };

        let auth = null, db = null, isFirebaseEnabled = false;
        try {
            if (typeof firebase !== 'undefined') {
                if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
                auth = firebase.auth();
                db = firebase.firestore();
                isFirebaseEnabled = true;
            }
        } catch (e) { console.error("Firebase Init Failed:", e); }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ICONS SYSTEM
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const Icons = {
            dashboard: <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />,
            projects: <><rect x="3" y="3" width="18" height="18" rx="2" /><path d="M3 9h18M9 21V9" /></>,
            tasks: <><path d="M9 11l3 3L22 4" /><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11" /></>,
            team: <><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" /><circle cx="9" cy="7" r="4" /><path d="M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75" /></>,
            hierarchy: <><circle cx="12" cy="5" r="3" /><path d="M12 8v4" /><circle cx="6" cy="17" r="3" /><circle cx="18" cy="17" r="3" /><path d="M6 14v-2h12v2" /><path d="M12 12v2" /></>,
            goals: <><circle cx="12" cy="12" r="10" /><circle cx="12" cy="12" r="6" /><circle cx="12" cy="12" r="2" /></>,
            vision: <><rect x="3" y="3" width="18" height="18" rx="2" /><circle cx="8.5" cy="8.5" r="1.5" /><path d="M21 15l-5-5L5 21" /></>,
            analytics: <><path d="M18 20V10M12 20V4M6 20v-6" /></>,
            workflows: <><polyline points="22 12 18 12 15 21 9 3 6 12 2 12" /></>,
            settings: <><circle cx="12" cy="12" r="3" /><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" /></>,
            plus: <path d="M12 5v14M5 12h14" />,
            search: <><circle cx="11" cy="11" r="8" /><path d="m21 21-4.35-4.35" /></>,
            bell: <><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" /><path d="M13.73 21a2 2 0 0 1-3.46 0" /></>,
            user: <><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" /><circle cx="12" cy="7" r="4" /></>,
            chevronDown: <polyline points="6 9 12 15 18 9" />,
            chevronRight: <polyline points="9 18 15 12 9 6" />,
            chevronLeft: <polyline points="15 18 9 12 15 6" />,
            check: <polyline points="20 6 9 17 4 12" />,
            x: <><line x1="18" y1="6" x2="6" y2="18" /><line x1="6" y1="6" x2="18" y2="18" /></>,
            trash: <><polyline points="3 6 5 6 21 6" /><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" /></>,
            edit: <><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" /><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" /></>,
            calendar: <><rect x="3" y="4" width="18" height="18" rx="2" ry="2" /><line x1="16" y1="2" x2="16" y2="6" /><line x1="8" y1="2" x2="8" y2="6" /><line x1="3" y1="10" x2="21" y2="10" /></>,
            clock: <><circle cx="12" cy="12" r="10" /><polyline points="12 6 12 12 16 14" /></>,
            flag: <><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z" /><line x1="4" y1="22" x2="4" y2="15" /></>,
            folder: <><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z" /></>,
            filter: <><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3" /></>,
            grid: <><rect x="3" y="3" width="7" height="7" /><rect x="14" y="3" width="7" height="7" /><rect x="14" y="14" width="7" height="7" /><rect x="3" y="14" width="7" height="7" /></>,
            list: <><line x1="8" y1="6" x2="21" y2="6" /><line x1="8" y1="12" x2="21" y2="12" /><line x1="8" y1="18" x2="21" y2="18" /><line x1="3" y1="6" x2="3.01" y2="6" /><line x1="3" y1="12" x2="3.01" y2="12" /><line x1="3" y1="18" x2="3.01" y2="18" /></>,
            logout: <><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" /><polyline points="16 17 21 12 16 7" /><line x1="21" y1="12" x2="9" y2="12" /></>,
            grip: <><circle cx="9" cy="12" r="1" /><circle cx="9" cy="5" r="1" /><circle cx="9" cy="19" r="1" /><circle cx="15" cy="12" r="1" /><circle cx="15" cy="5" r="1" /><circle cx="15" cy="19" r="1" /></>,
            message: <><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" /></>,
            send: <><line x1="22" y1="2" x2="11" y2="13" /><polygon points="22 2 15 22 11 13 2 9 22 2" /></>,
            star: <><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" /></>,
            award: <><circle cx="12" cy="8" r="7" /><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88" /></>,
            trendUp: <><polyline points="23 6 13.5 15.5 8.5 10.5 1 18" /><polyline points="17 6 23 6 23 12" /></>,
            trendDown: <><polyline points="23 18 13.5 8.5 8.5 13.5 1 6" /><polyline points="17 18 23 18 23 12" /></>,
            zap: <><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" /></>,
            link: <><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" /><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" /></>,
            copy: <><rect x="9" y="9" width="13" height="13" rx="2" ry="2" /><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" /></>,
            building: <><rect x="4" y="2" width="16" height="20" rx="2" /><path d="M9 22v-4h6v4" /><path d="M8 6h.01M16 6h.01M12 6h.01M12 10h.01M12 14h.01M16 10h.01M16 14h.01M8 10h.01M8 14h.01" /></>,
            briefcase: <><rect x="2" y="7" width="20" height="14" rx="2" /><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" /></>,
            crown: <><path d="M2 4l3 12h14l3-12-6 7-4-7-4 7-6-7z" /><path d="M5 20h14" /></>,
            shield: <><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" /></>,
            image: <><rect x="3" y="3" width="18" height="18" rx="2" ry="2" /><circle cx="8.5" cy="8.5" r="1.5" /><polyline points="21 15 16 10 5 21" /></>,
            type: <><polyline points="4 7 4 4 20 4 20 7" /><line x1="9" y1="20" x2="15" y2="20" /><line x1="12" y1="4" x2="12" y2="20" /></>,
            move: <><polyline points="5 9 2 12 5 15" /><polyline points="9 5 12 2 15 5" /><polyline points="15 19 12 22 9 19" /><polyline points="19 9 22 12 19 15" /><line x1="2" y1="12" x2="22" y2="12" /><line x1="12" y1="2" x2="12" y2="22" /></>,
            layers: <><polygon points="12 2 2 7 12 12 22 7 12 2" /><polyline points="2 17 12 22 22 17" /><polyline points="2 12 12 17 22 12" /></>,
            refresh: <><polyline points="23 4 23 10 17 10" /><polyline points="1 20 1 14 7 14" /><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15" /></>,
            upload: <><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" /><polyline points="17 8 12 3 7 8" /><line x1="12" y1="3" x2="12" y2="15" /></>,
            download: <><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" /><polyline points="7 10 12 15 17 10" /><line x1="12" y1="15" x2="12" y2="3" /></>,
            activity: <><polyline points="22 12 18 12 15 21 9 3 6 12 2 12" /></>,
            anchor: <><circle cx="12" cy="5" r="3" /><line x1="12" y1="22" x2="12" y2="8" /><path d="M5 12H2a10 10 0 0 0 20 0h-3" /></>,
            archive: <><polyline points="21 8 21 21 3 21 3 8" /><rect x="1" y="3" width="22" height="5" /><line x1="10" y1="12" x2="14" y2="12" /></>,
            percent: <><line x1="19" y1="5" x2="5" y2="19" /><circle cx="6.5" cy="6.5" r="2.5" /><circle cx="17.5" cy="17.5" r="2.5" /></>,
        };

        const Icon = ({ name, size = 20, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {Icons[name]}
            </svg>
        );

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // CONSTANTS & CONFIGURATIONS
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const ROLE_HIERARCHY = {
            founder: { level: 0, label: 'Founder', color: 'role-founder', permissions: ['all'] },
            ceo: { level: 1, label: 'CEO', color: 'role-ceo', permissions: ['all'] },
            cto: { level: 1, label: 'CTO', color: 'role-ceo', permissions: ['tech', 'team', 'projects'] },
            cfo: { level: 1, label: 'CFO', color: 'role-ceo', permissions: ['finance', 'reports'] },
            director: { level: 2, label: 'Director', color: 'role-director', permissions: ['department', 'team', 'projects'] },
            manager: { level: 3, label: 'Manager', color: 'role-manager', permissions: ['team', 'projects', 'tasks'] },
            lead: { level: 4, label: 'Team Lead', color: 'role-lead', permissions: ['projects', 'tasks'] },
            employee: { level: 5, label: 'Employee', color: 'role-employee', permissions: ['tasks', 'personal'] },
        };

        const DEPARTMENTS = ['Engineering', 'Design', 'Marketing', 'Sales', 'HR', 'Finance', 'Operations', 'Product'];
        
        const TASK_STATUS = ['backlog', 'todo', 'in_progress', 'review', 'completed'];
        const PRIORITY_LEVELS = ['low', 'medium', 'high', 'critical'];

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // CONTEXT
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const AppContext = createContext();

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // SAMPLE DATA GENERATORS
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const generateSampleData = () => ({
            company: {
                name: "FocusFlow Inc.",
                logo: "",
                industry: "Technology",
                founded: "2024",
            },
            members: [
                { id: 'm1', name: 'Alex Chen', email: 'alex@nexus.com', role: 'founder', department: 'Executive', avatar: 'https://i.pravatar.cc/150?u=alex', reportsTo: null },
                { id: 'm2', name: 'Sarah Johnson', email: 'sarah@nexus.com', role: 'ceo', department: 'Executive', avatar: 'https://i.pravatar.cc/150?u=sarah', reportsTo: 'm1' },
                { id: 'm3', name: 'Michael Park', email: 'michael@nexus.com', role: 'cto', department: 'Engineering', avatar: 'https://i.pravatar.cc/150?u=michael', reportsTo: 'm2' },
                { id: 'm4', name: 'Emily Davis', email: 'emily@nexus.com', role: 'director', department: 'Design', avatar: 'https://i.pravatar.cc/150?u=emily', reportsTo: 'm2' },
                { id: 'm5', name: 'James Wilson', email: 'james@nexus.com', role: 'manager', department: 'Engineering', avatar: 'https://i.pravatar.cc/150?u=james', reportsTo: 'm3' },
                { id: 'm6', name: 'Lisa Chen', email: 'lisa@nexus.com', role: 'lead', department: 'Engineering', avatar: 'https://i.pravatar.cc/150?u=lisa', reportsTo: 'm5' },
                { id: 'm7', name: 'David Kim', email: 'david@nexus.com', role: 'employee', department: 'Engineering', avatar: 'https://i.pravatar.cc/150?u=david', reportsTo: 'm6' },
                { id: 'm8', name: 'Anna White', email: 'anna@nexus.com', role: 'employee', department: 'Design', avatar: 'https://i.pravatar.cc/150?u=anna', reportsTo: 'm4' },
            ],
            projects: [
                { id: 'p1', name: 'Platform Redesign', status: 'active', priority: 'high', department: 'Design', lead: 'm4', members: ['m4', 'm8'], progress: 65, deadline: '2026-03-15', budget: 50000 },
                { id: 'p2', name: 'API v3 Development', status: 'active', priority: 'critical', department: 'Engineering', lead: 'm5', members: ['m5', 'm6', 'm7'], progress: 40, deadline: '2026-02-28', budget: 120000 },
                { id: 'p3', name: 'Mobile App Launch', status: 'planning', priority: 'high', department: 'Engineering', lead: 'm3', members: ['m3', 'm6'], progress: 15, deadline: '2026-06-01', budget: 200000 },
            ],
            tasks: [
                { id: 't1', title: 'Design new dashboard layout', projectId: 'p1', assignee: 'm8', status: 'in_progress', priority: 'high', dueDate: '2026-01-20', subtasks: [{ id: 'st1', title: 'Wireframes', completed: true }, { id: 'st2', title: 'High-fidelity mockups', completed: false }] },
                { id: 't2', title: 'Implement authentication flow', projectId: 'p2', assignee: 'm7', status: 'review', priority: 'critical', dueDate: '2026-01-18', subtasks: [] },
                { id: 't3', title: 'Write API documentation', projectId: 'p2', assignee: 'm6', status: 'todo', priority: 'medium', dueDate: '2026-01-25', subtasks: [] },
                { id: 't4', title: 'User research interviews', projectId: 'p1', assignee: 'm4', status: 'completed', priority: 'medium', dueDate: '2026-01-10', subtasks: [] },
                { id: 't5', title: 'Setup CI/CD pipeline', projectId: 'p2', assignee: 'm5', status: 'backlog', priority: 'high', dueDate: '2026-02-01', subtasks: [] },
            ],
            goals: [
                { id: 'g1', title: 'Achieve $1M ARR', type: 'company', horizon: 'long', progress: 45, owner: 'm2', status: 'on_track' },
                { id: 'g2', title: 'Launch mobile app', type: 'company', horizon: 'mid', progress: 15, owner: 'm3', status: 'at_risk' },
                { id: 'g3', title: 'Hire 10 engineers', type: 'department', horizon: 'short', progress: 70, owner: 'm5', status: 'on_track' },
                { id: 'g4', title: 'Complete design system', type: 'team', horizon: 'short', progress: 85, owner: 'm4', status: 'ahead' },
            ],
            visionBoards: [
                {
                    id: 'vb1',
                    title: '2026 Company Vision',
                    type: 'company',
                    elements: [
                        { id: 'e1', type: 'text', content: 'ğŸš€ Global Expansion', x: 50, y: 50, width: 180, height: 80, color: 'bg-gradient-to-br from-purple-500 to-indigo-600' },
                        { id: 'e2', type: 'text', content: 'ğŸ’° Series A Funding', x: 260, y: 80, width: 180, height: 80, color: 'bg-gradient-to-br from-emerald-500 to-teal-600' },
                        { id: 'e3', type: 'image', content: 'https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=400', x: 50, y: 160, width: 200, height: 150 },
                    ]
                }
            ],
            workflows: [
                { id: 'w1', name: 'Task Approval', trigger: 'task_complete', steps: ['review_by_lead', 'approve_by_manager'], active: true },
                { id: 'w2', name: 'Budget Request', trigger: 'budget_request', steps: ['manager_review', 'finance_approval', 'cfo_sign_off'], active: true },
            ],
            announcements: [
                { id: 'a1', title: 'Q1 Planning Meeting', content: 'All hands meeting scheduled for Friday.', author: 'm2', date: '2026-01-14', priority: 'normal', audience: 'all' },
                { id: 'a2', title: 'New Health Benefits', content: 'Updated health insurance options available.', author: 'm2', date: '2026-01-10', priority: 'important', audience: 'all' },
            ]
        });

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // UTILITY COMPONENTS
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const Avatar = ({ src, name, size = 'md', className = "" }) => {
            const sizes = { sm: 'w-8 h-8 text-xs', md: 'w-10 h-10 text-sm', lg: 'w-12 h-12 text-base', xl: 'w-16 h-16 text-lg' };
            const initials = name?.split(' ').map(n => n[0]).join('').toUpperCase() || '?';
            
            return src ? (
                <img src={src} alt={name} className={`${sizes[size]} rounded-full object-cover border-2 border-surface-700 ${className}`} />
            ) : (
                <div className={`${sizes[size]} rounded-full bg-gradient-to-br from-nexus-500 to-nexus-700 flex items-center justify-center font-bold text-white ${className}`}>
                    {initials}
                </div>
            );
        };

        const Badge = ({ children, variant = 'default', size = 'sm' }) => {
            const variants = {
                default: 'bg-surface-700 text-surface-300',
                primary: 'bg-nexus-500/20 text-nexus-300 border border-nexus-500/30',
                success: 'bg-emerald-500/20 text-emerald-300 border border-emerald-500/30',
                warning: 'bg-amber-500/20 text-amber-300 border border-amber-500/30',
                danger: 'bg-red-500/20 text-red-300 border border-red-500/30',
                info: 'bg-sky-500/20 text-sky-300 border border-sky-500/30',
            };
            const sizes = { xs: 'px-1.5 py-0.5 text-[10px]', sm: 'px-2 py-0.5 text-xs', md: 'px-3 py-1 text-sm' };
            
            return (
                <span className={`${variants[variant]} ${sizes[size]} rounded-full font-semibold inline-flex items-center gap-1`}>
                    {children}
                </span>
            );
        };

        const RoleBadge = ({ role }) => {
            const config = ROLE_HIERARCHY[role] || ROLE_HIERARCHY.employee;
            return (
                <span className={`${config.color} px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider text-white`}>
                    {config.label}
                </span>
            );
        };

        const PriorityBadge = ({ priority }) => {
            const variants = {
                low: 'bg-emerald-500/20 text-emerald-400',
                medium: 'bg-amber-500/20 text-amber-400',
                high: 'bg-orange-500/20 text-orange-400',
                critical: 'bg-red-500/20 text-red-400',
            };
            return (
                <span className={`${variants[priority]} px-2 py-0.5 rounded text-xs font-semibold uppercase`}>
                    {priority}
                </span>
            );
        };

        const ProgressBar = ({ value, size = 'md', showLabel = false }) => {
            const heights = { sm: 'h-1', md: 'h-2', lg: 'h-3' };
            const color = value >= 80 ? 'from-emerald-500 to-emerald-400' : value >= 50 ? 'from-nexus-500 to-nexus-400' : value >= 25 ? 'from-amber-500 to-amber-400' : 'from-red-500 to-red-400';
            
            return (
                <div className="flex items-center gap-3 w-full">
                    <div className={`flex-1 ${heights[size]} bg-surface-800 rounded-full overflow-hidden`}>
                        <div className={`h-full bg-gradient-to-r ${color} rounded-full transition-all duration-500`} style={{ width: `${value}%` }} />
                    </div>
                    {showLabel && <span className="text-xs font-mono text-surface-400 w-10">{value}%</span>}
                </div>
            );
        };

        const Modal = ({ isOpen, onClose, title, children, size = 'md' }) => {
            if (!isOpen) return null;
            const sizes = { sm: 'max-w-md', md: 'max-w-lg', lg: 'max-w-2xl', xl: 'max-w-4xl', full: 'max-w-6xl' };
            
            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4" onClick={onClose}>
                    <div className="absolute inset-0 bg-black/70 backdrop-blur-sm" />
                    <div className={`glass-elevated ${sizes[size]} w-full rounded-2xl overflow-hidden animate-scale-in relative`} onClick={e => e.stopPropagation()}>
                        <div className="flex items-center justify-between p-5 border-b border-white/10">
                            <h3 className="font-display font-bold text-lg">{title}</h3>
                            <button onClick={onClose} className="p-2 hover:bg-white/10 rounded-lg transition-colors">
                                <Icon name="x" size={18} />
                            </button>
                        </div>
                        <div className="p-5 max-h-[70vh] overflow-y-auto">
                            {children}
                        </div>
                    </div>
                </div>
            );
        };

        const Dropdown = ({ trigger, children, align = 'right' }) => {
            const [isOpen, setIsOpen] = useState(false);
            const ref = useRef(null);
            
            useEffect(() => {
                const handleClick = (e) => { if (ref.current && !ref.current.contains(e.target)) setIsOpen(false); };
                document.addEventListener('mousedown', handleClick);
                return () => document.removeEventListener('mousedown', handleClick);
            }, []);
            
            return (
                <div className="relative" ref={ref}>
                    <div onClick={() => setIsOpen(!isOpen)}>{trigger}</div>
                    {isOpen && (
                        <div className={`absolute ${align === 'right' ? 'right-0' : 'left-0'} top-full mt-2 glass-elevated rounded-xl overflow-hidden min-w-[180px] z-50 dropdown-menu`}>
                            {children}
                        </div>
                    )}
                </div>
            );
        };

        const Tabs = ({ tabs, activeTab, onChange }) => (
            <div className="flex gap-1 p-1 bg-surface-900/50 rounded-xl">
                {tabs.map(tab => (
                    <button
                        key={tab.id}
                        onClick={() => onChange(tab.id)}
                        className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${activeTab === tab.id ? 'bg-nexus-600 text-white shadow-lg' : 'text-surface-400 hover:text-white hover:bg-white/5'}`}
                    >
                        {tab.label}
                    </button>
                ))}
            </div>
        );

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // SIDEBAR COMPONENT
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const Sidebar = ({ activeView, setActiveView, collapsed, setCollapsed }) => {
            const navItems = [
                { id: 'dashboard', icon: 'dashboard', label: 'Dashboard' },
                { id: 'projects', icon: 'projects', label: 'Projects' },
                { id: 'tasks', icon: 'tasks', label: 'Tasks' },
                { id: 'team', icon: 'team', label: 'Team' },
                { id: 'hierarchy', icon: 'hierarchy', label: 'Org Chart' },
                { id: 'goals', icon: 'goals', label: 'Goals & OKRs' },
                { id: 'vision', icon: 'vision', label: 'Vision Boards' },
                { id: 'analytics', icon: 'analytics', label: 'Analytics' },
                { id: 'workflows', icon: 'workflows', label: 'Workflows' },
            ];
            
            return (
                <aside className={`glass-dark h-screen flex flex-col transition-all duration-300 ${collapsed ? 'w-20' : 'w-64'}`}>
                    {/* Logo */}
                    <div className="h-16 flex items-center gap-3 px-5 border-b border-white/5">
                        <div className="w-10 h-10 rounded-xl gradient-accent flex items-center justify-center shadow-lg shadow-nexus-500/30 animate-pulse-glow">
                            <Icon name="zap" size={22} className="text-white" />
                        </div>
                        {!collapsed && (
                            <div className="animate-fade-in">
                                <h1 className="font-display font-bold text-lg gradient-text">FocusFlow</h1>
                                <p className="text-[10px] text-surface-500 uppercase tracking-widest">Enterprise Suite</p>
                            </div>
                        )}
                    </div>
                    
                    {/* Navigation */}
                    <nav className="flex-1 py-4 px-3 overflow-y-auto">
                        <div className="space-y-1">
                            {navItems.map(item => (
                                <button
                                    key={item.id}
                                    onClick={() => setActiveView(item.id)}
                                    className={`sidebar-item w-full flex items-center gap-3 px-3 py-2.5 rounded-xl ${activeView === item.id ? 'active' : 'text-surface-400'}`}
                                >
                                    <Icon name={item.icon} size={20} className={activeView === item.id ? 'text-nexus-400' : ''} />
                                    {!collapsed && <span className="font-medium text-sm">{item.label}</span>}
                                </button>
                            ))}
                        </div>
                        
                        <div className="mt-6 pt-6 border-t border-white/5">
                            <button
                                onClick={() => setActiveView('settings')}
                                className={`sidebar-item w-full flex items-center gap-3 px-3 py-2.5 rounded-xl ${activeView === 'settings' ? 'active' : 'text-surface-400'}`}
                            >
                                <Icon name="settings" size={20} />
                                {!collapsed && <span className="font-medium text-sm">Settings</span>}
                            </button>
                        </div>
                    </nav>
                    
                    {/* Collapse Toggle */}
                    <div className="p-3 border-t border-white/5">
                        <button
                            onClick={() => setCollapsed(!collapsed)}
                            className="w-full flex items-center justify-center gap-2 py-2 text-surface-500 hover:text-white transition-colors"
                        >
                            <Icon name={collapsed ? 'chevronRight' : 'chevronLeft'} size={16} />
                            {!collapsed && <span className="text-xs">Collapse</span>}
                        </button>
                    </div>
                </aside>
            );
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // HEADER COMPONENT
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const Header = ({ currentUser, onLogout }) => {
            const [searchQuery, setSearchQuery] = useState('');
            
            return (
                <header className="h-16 glass-light flex items-center justify-between px-6 border-b border-white/5">
                    {/* Search */}
                    <div className="flex items-center gap-3 flex-1 max-w-md">
                        <div className="relative flex-1">
                            <Icon name="search" size={18} className="absolute left-3 top-1/2 -translate-y-1/2 text-surface-500" />
                            <input
                                type="text"
                                placeholder="Search projects, tasks, people..."
                                value={searchQuery}
                                onChange={(e) => setSearchQuery(e.target.value)}
                                className="input-dark w-full pl-10 pr-4 py-2 rounded-xl text-sm"
                            />
                        </div>
                    </div>
                    
                    {/* Actions */}
                    <div className="flex items-center gap-3">
                        {/* Notifications */}
                        <Dropdown
                            trigger={
                                <button className="relative p-2 hover:bg-white/10 rounded-xl transition-colors">
                                    <Icon name="bell" size={20} className="text-surface-400" />
                                    <span className="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full notification-badge" />
                                </button>
                            }
                        >
                            <div className="p-4 w-80">
                                <h4 className="font-semibold mb-3">Notifications</h4>
                                <div className="space-y-3">
                                    <div className="flex gap-3 p-2 rounded-lg hover:bg-white/5 transition-colors">
                                        <div className="w-8 h-8 rounded-full bg-nexus-500/20 flex items-center justify-center">
                                            <Icon name="check" size={14} className="text-nexus-400" />
                                        </div>
                                        <div>
                                            <p className="text-sm">Task completed by Sarah</p>
                                            <p className="text-xs text-surface-500">2 minutes ago</p>
                                        </div>
                                    </div>
                                    <div className="flex gap-3 p-2 rounded-lg hover:bg-white/5 transition-colors">
                                        <div className="w-8 h-8 rounded-full bg-amber-500/20 flex items-center justify-center">
                                            <Icon name="flag" size={14} className="text-amber-400" />
                                        </div>
                                        <div>
                                            <p className="text-sm">New milestone reached</p>
                                            <p className="text-xs text-surface-500">1 hour ago</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </Dropdown>
                        
                        {/* User Menu */}
                        <Dropdown
                            trigger={
                                <button className="flex items-center gap-3 p-2 hover:bg-white/10 rounded-xl transition-colors">
                                    <Avatar src={currentUser?.photoURL} name={currentUser?.displayName || 'User'} size="sm" />
                                    <div className="text-left hidden md:block">
                                        <p className="text-sm font-medium">{currentUser?.displayName || 'User'}</p>
                                        <p className="text-xs text-surface-500">Founder</p>
                                    </div>
                                    <Icon name="chevronDown" size={16} className="text-surface-500" />
                                </button>
                            }
                        >
                            <div className="py-2">
                                <button className="w-full flex items-center gap-3 px-4 py-2 text-sm text-left hover:bg-white/10 transition-colors">
                                    <Icon name="user" size={16} /> Profile
                                </button>
                                <button className="w-full flex items-center gap-3 px-4 py-2 text-sm text-left hover:bg-white/10 transition-colors">
                                    <Icon name="settings" size={16} /> Settings
                                </button>
                                <hr className="my-2 border-white/10" />
                                <button onClick={onLogout} className="w-full flex items-center gap-3 px-4 py-2 text-sm text-left text-red-400 hover:bg-red-500/10 transition-colors">
                                    <Icon name="logout" size={16} /> Sign Out
                                </button>
                            </div>
                        </Dropdown>
                    </div>
                </header>
            );
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // DASHBOARD VIEW
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const DashboardView = ({ data }) => {
            const stats = [
                { label: 'Active Projects', value: data.projects.filter(p => p.status === 'active').length, change: '+2', trend: 'up', icon: 'folder', color: 'from-nexus-500 to-indigo-600' },
                { label: 'Tasks This Week', value: data.tasks.length, change: '+12', trend: 'up', icon: 'tasks', color: 'from-emerald-500 to-teal-600' },
                { label: 'Team Members', value: data.members.length, change: '+3', trend: 'up', icon: 'team', color: 'from-amber-500 to-orange-600' },
                { label: 'Goals On Track', value: data.goals.filter(g => g.status === 'on_track' || g.status === 'ahead').length, change: '85%', trend: 'up', icon: 'goals', color: 'from-pink-500 to-rose-600' },
            ];
            
            return (
                <div className="space-y-6 animate-fade-in">
                    {/* Welcome */}
                    <div className="flex items-center justify-between">
                        <div>
                            <h1 className="font-display text-2xl font-bold">Welcome back, Alex ğŸ‘‹</h1>
                            <p className="text-surface-400 mt-1">Here's what's happening with your organization today.</p>
                        </div>
                        <button className="btn-primary px-4 py-2 rounded-xl font-semibold flex items-center gap-2">
                            <Icon name="plus" size={18} /> Quick Action
                        </button>
                    </div>
                    
                    {/* Stats Grid */}
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 stagger-children">
                        {stats.map((stat, idx) => (
                            <div key={idx} className="stat-card glass-card rounded-2xl p-5 animate-fade-in" style={{ opacity: 0 }}>
                                <div className="flex items-start justify-between mb-4">
                                    <div className={`w-12 h-12 rounded-xl bg-gradient-to-br ${stat.color} flex items-center justify-center shadow-lg`}>
                                        <Icon name={stat.icon} size={22} className="text-white" />
                                    </div>
                                    <Badge variant={stat.trend === 'up' ? 'success' : 'danger'} size="xs">
                                        <Icon name={stat.trend === 'up' ? 'trendUp' : 'trendDown'} size={12} />
                                        {stat.change}
                                    </Badge>
                                </div>
                                <p className="text-3xl font-display font-bold">{stat.value}</p>
                                <p className="text-surface-500 text-sm mt-1">{stat.label}</p>
                            </div>
                        ))}
                    </div>
                    
                    {/* Main Content Grid */}
                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        {/* Active Projects */}
                        <div className="lg:col-span-2 glass-card rounded-2xl p-5">
                            <div className="flex items-center justify-between mb-4">
                                <h3 className="font-display font-semibold">Active Projects</h3>
                                <button className="text-nexus-400 text-sm hover:underline">View All</button>
                            </div>
                            <div className="space-y-3">
                                {data.projects.filter(p => p.status === 'active').map(project => {
                                    const lead = data.members.find(m => m.id === project.lead);
                                    return (
                                        <div key={project.id} className="flex items-center gap-4 p-3 rounded-xl hover:bg-white/5 transition-colors cursor-pointer">
                                            <div className={`w-10 h-10 rounded-lg bg-gradient-to-br ${project.priority === 'critical' ? 'from-red-500 to-rose-600' : 'from-nexus-500 to-indigo-600'} flex items-center justify-center`}>
                                                <Icon name="folder" size={18} className="text-white" />
                                            </div>
                                            <div className="flex-1 min-w-0">
                                                <div className="flex items-center gap-2">
                                                    <p className="font-semibold truncate">{project.name}</p>
                                                    <PriorityBadge priority={project.priority} />
                                                </div>
                                                <p className="text-sm text-surface-500">{project.department} â€¢ Due {new Date(project.deadline).toLocaleDateString()}</p>
                                            </div>
                                            <div className="w-32">
                                                <ProgressBar value={project.progress} showLabel />
                                            </div>
                                            <div className="flex -space-x-2">
                                                {project.members.slice(0, 3).map(mId => {
                                                    const member = data.members.find(m => m.id === mId);
                                                    return member ? <Avatar key={mId} src={member.avatar} name={member.name} size="sm" className="ring-2 ring-surface-900" /> : null;
                                                })}
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                        
                        {/* Recent Activity */}
                        <div className="glass-card rounded-2xl p-5">
                            <h3 className="font-display font-semibold mb-4">Recent Activity</h3>
                            <div className="space-y-4">
                                {[
                                    { user: 'm7', action: 'completed', item: 'Auth flow implementation', time: '5m ago', icon: 'check', color: 'text-emerald-400 bg-emerald-500/20' },
                                    { user: 'm8', action: 'uploaded', item: 'New design mockups', time: '1h ago', icon: 'upload', color: 'text-nexus-400 bg-nexus-500/20' },
                                    { user: 'm5', action: 'commented on', item: 'API Documentation', time: '2h ago', icon: 'message', color: 'text-amber-400 bg-amber-500/20' },
                                    { user: 'm4', action: 'created', item: 'Design Review Meeting', time: '3h ago', icon: 'calendar', color: 'text-pink-400 bg-pink-500/20' },
                                ].map((activity, idx) => {
                                    const user = data.members.find(m => m.id === activity.user);
                                    return (
                                        <div key={idx} className="flex items-start gap-3">
                                            <div className={`w-8 h-8 rounded-lg ${activity.color} flex items-center justify-center flex-shrink-0`}>
                                                <Icon name={activity.icon} size={14} />
                                            </div>
                                            <div className="flex-1 min-w-0">
                                                <p className="text-sm">
                                                    <span className="font-semibold">{user?.name}</span>
                                                    <span className="text-surface-500"> {activity.action} </span>
                                                    <span className="font-medium">{activity.item}</span>
                                                </p>
                                                <p className="text-xs text-surface-600 mt-0.5">{activity.time}</p>
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                    </div>
                    
                    {/* Announcements & Goals */}
                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        {/* Announcements */}
                        <div className="glass-card rounded-2xl p-5">
                            <div className="flex items-center justify-between mb-4">
                                <h3 className="font-display font-semibold">Announcements</h3>
                                <button className="btn-ghost p-2 rounded-lg">
                                    <Icon name="plus" size={16} />
                                </button>
                            </div>
                            <div className="space-y-3">
                                {data.announcements.map(ann => {
                                    const author = data.members.find(m => m.id === ann.author);
                                    return (
                                        <div key={ann.id} className={`p-4 rounded-xl border ${ann.priority === 'important' ? 'border-amber-500/30 bg-amber-500/5' : 'border-white/5 bg-white/5'}`}>
                                            <div className="flex items-center gap-2 mb-2">
                                                {ann.priority === 'important' && <Icon name="zap" size={14} className="text-amber-400" />}
                                                <h4 className="font-semibold text-sm">{ann.title}</h4>
                                            </div>
                                            <p className="text-sm text-surface-400">{ann.content}</p>
                                            <div className="flex items-center gap-2 mt-3 text-xs text-surface-500">
                                                <Avatar src={author?.avatar} name={author?.name} size="sm" />
                                                <span>{author?.name}</span>
                                                <span>â€¢</span>
                                                <span>{ann.date}</span>
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                        
                        {/* Goals Progress */}
                        <div className="glass-card rounded-2xl p-5">
                            <div className="flex items-center justify-between mb-4">
                                <h3 className="font-display font-semibold">Company Goals</h3>
                                <button className="text-nexus-400 text-sm hover:underline">View All</button>
                            </div>
                            <div className="space-y-4">
                                {data.goals.slice(0, 4).map(goal => {
                                    const statusColors = {
                                        on_track: 'text-emerald-400',
                                        at_risk: 'text-amber-400',
                                        behind: 'text-red-400',
                                        ahead: 'text-nexus-400',
                                    };
                                    return (
                                        <div key={goal.id} className="space-y-2">
                                            <div className="flex items-center justify-between">
                                                <div className="flex items-center gap-2">
                                                    <Icon name="goals" size={14} className="text-nexus-400" />
                                                    <span className="font-medium text-sm">{goal.title}</span>
                                                </div>
                                                <span className={`text-xs font-semibold uppercase ${statusColors[goal.status]}`}>
                                                    {goal.status.replace('_', ' ')}
                                                </span>
                                            </div>
                                            <ProgressBar value={goal.progress} showLabel />
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // PROJECTS VIEW
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const ProjectsView = ({ data, setData }) => {
            const [viewMode, setViewMode] = useState('grid');
            const [showNewProject, setShowNewProject] = useState(false);
            const [selectedProject, setSelectedProject] = useState(null);
            
            return (
                <div className="space-y-6 animate-fade-in">
                    <div className="flex items-center justify-between">
                        <div>
                            <h1 className="font-display text-2xl font-bold">Projects</h1>
                            <p className="text-surface-400 mt-1">Manage and track all organizational projects</p>
                        </div>
                        <div className="flex items-center gap-3">
                            <div className="flex items-center gap-1 p-1 bg-surface-800/50 rounded-lg">
                                <button onClick={() => setViewMode('grid')} className={`p-2 rounded ${viewMode === 'grid' ? 'bg-nexus-600 text-white' : 'text-surface-400'}`}>
                                    <Icon name="grid" size={16} />
                                </button>
                                <button onClick={() => setViewMode('list')} className={`p-2 rounded ${viewMode === 'list' ? 'bg-nexus-600 text-white' : 'text-surface-400'}`}>
                                    <Icon name="list" size={16} />
                                </button>
                            </div>
                            <button onClick={() => setShowNewProject(true)} className="btn-primary px-4 py-2 rounded-xl font-semibold flex items-center gap-2">
                                <Icon name="plus" size={18} /> New Project
                            </button>
                        </div>
                    </div>
                    
                    {/* Filters */}
                    <div className="flex items-center gap-3 flex-wrap">
                        <button className="px-3 py-1.5 rounded-lg bg-nexus-600/20 border border-nexus-500/30 text-nexus-300 text-sm font-medium">All Projects</button>
                        <button className="px-3 py-1.5 rounded-lg bg-surface-800/50 text-surface-400 text-sm font-medium hover:bg-surface-700/50 transition-colors">Active</button>
                        <button className="px-3 py-1.5 rounded-lg bg-surface-800/50 text-surface-400 text-sm font-medium hover:bg-surface-700/50 transition-colors">Planning</button>
                        <button className="px-3 py-1.5 rounded-lg bg-surface-800/50 text-surface-400 text-sm font-medium hover:bg-surface-700/50 transition-colors">Completed</button>
                    </div>
                    
                    {/* Projects Grid */}
                    <div className={`grid ${viewMode === 'grid' ? 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3' : 'grid-cols-1'} gap-4`}>
                        {data.projects.map(project => {
                            const lead = data.members.find(m => m.id === project.lead);
                            const priorityColors = {
                                low: 'from-emerald-500 to-teal-600',
                                medium: 'from-amber-500 to-orange-600',
                                high: 'from-orange-500 to-red-600',
                                critical: 'from-red-500 to-rose-600',
                            };
                            
                            return (
                                <div 
                                    key={project.id}
                                    onClick={() => setSelectedProject(project)}
                                    className="glass-card rounded-2xl p-5 cursor-pointer hover:border-nexus-500/30 transition-all hover:shadow-xl hover:shadow-nexus-500/5"
                                >
                                    <div className="flex items-start justify-between mb-4">
                                        <div className={`w-12 h-12 rounded-xl bg-gradient-to-br ${priorityColors[project.priority]} flex items-center justify-center shadow-lg`}>
                                            <Icon name="folder" size={22} className="text-white" />
                                        </div>
                                        <PriorityBadge priority={project.priority} />
                                    </div>
                                    
                                    <h3 className="font-display font-semibold text-lg mb-1">{project.name}</h3>
                                    <p className="text-surface-500 text-sm mb-4">{project.department}</p>
                                    
                                    <div className="space-y-3 mb-4">
                                        <div className="flex items-center justify-between text-sm">
                                            <span className="text-surface-500">Progress</span>
                                            <span className="font-mono font-semibold">{project.progress}%</span>
                                        </div>
                                        <ProgressBar value={project.progress} />
                                    </div>
                                    
                                    <div className="flex items-center justify-between pt-4 border-t border-white/5">
                                        <div className="flex items-center gap-2">
                                            <Avatar src={lead?.avatar} name={lead?.name} size="sm" />
                                            <span className="text-sm text-surface-400">{lead?.name}</span>
                                        </div>
                                        <div className="flex items-center gap-1 text-surface-500 text-xs">
                                            <Icon name="calendar" size={12} />
                                            {new Date(project.deadline).toLocaleDateString()}
                                        </div>
                                    </div>
                                </div>
                            );
                        })}
                    </div>
                    
                    {/* New Project Modal */}
                    <Modal isOpen={showNewProject} onClose={() => setShowNewProject(false)} title="Create New Project" size="lg">
                        <form className="space-y-4">
                            <div>
                                <label className="block text-sm font-medium text-surface-300 mb-1">Project Name</label>
                                <input type="text" className="input-dark w-full px-4 py-3 rounded-xl" placeholder="Enter project name..." />
                            </div>
                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-sm font-medium text-surface-300 mb-1">Department</label>
                                    <select className="input-dark w-full px-4 py-3 rounded-xl">
                                        {DEPARTMENTS.map(d => <option key={d}>{d}</option>)}
                                    </select>
                                </div>
                                <div>
                                    <label className="block text-sm font-medium text-surface-300 mb-1">Priority</label>
                                    <select className="input-dark w-full px-4 py-3 rounded-xl">
                                        {PRIORITY_LEVELS.map(p => <option key={p} value={p}>{p.charAt(0).toUpperCase() + p.slice(1)}</option>)}
                                    </select>
                                </div>
                            </div>
                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-sm font-medium text-surface-300 mb-1">Project Lead</label>
                                    <select className="input-dark w-full px-4 py-3 rounded-xl">
                                        {data.members.filter(m => ['director', 'manager', 'lead'].includes(m.role)).map(m => (
                                            <option key={m.id} value={m.id}>{m.name} - {ROLE_HIERARCHY[m.role].label}</option>
                                        ))}
                                    </select>
                                </div>
                                <div>
                                    <label className="block text-sm font-medium text-surface-300 mb-1">Deadline</label>
                                    <input type="date" className="input-dark w-full px-4 py-3 rounded-xl" />
                                </div>
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-surface-300 mb-1">Budget ($)</label>
                                <input type="number" className="input-dark w-full px-4 py-3 rounded-xl" placeholder="0.00" />
                            </div>
                            <div className="flex justify-end gap-3 pt-4">
                                <button type="button" onClick={() => setShowNewProject(false)} className="px-4 py-2 text-surface-400 hover:text-white transition-colors">
                                    Cancel
                                </button>
                                <button type="submit" className="btn-primary px-6 py-2 rounded-xl font-semibold">
                                    Create Project
                                </button>
                            </div>
                        </form>
                    </Modal>
                </div>
            );
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // TASKS VIEW (KANBAN)
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const TasksView = ({ data, setData }) => {
            const [draggedTask, setDraggedTask] = useState(null);
            const [showNewTask, setShowNewTask] = useState(false);
            
            const columns = [
                { id: 'backlog', label: 'Backlog', color: 'bg-surface-600' },
                { id: 'todo', label: 'To Do', color: 'bg-blue-600' },
                { id: 'in_progress', label: 'In Progress', color: 'bg-amber-600' },
                { id: 'review', label: 'Review', color: 'bg-purple-600' },
                { id: 'completed', label: 'Completed', color: 'bg-emerald-600' },
            ];
            
            const handleDragStart = (task) => setDraggedTask(task);
            const handleDragOver = (e) => e.preventDefault();
            const handleDrop = (status) => {
                if (draggedTask) {
                    const updatedTasks = data.tasks.map(t => 
                        t.id === draggedTask.id ? { ...t, status } : t
                    );
                    setData({ ...data, tasks: updatedTasks });
                    setDraggedTask(null);
                }
            };
            
            return (
                <div className="h-full flex flex-col animate-fade-in">
                    <div className="flex items-center justify-between mb-6">
                        <div>
                            <h1 className="font-display text-2xl font-bold">Tasks</h1>
                            <p className="text-surface-400 mt-1">Drag and drop to update task status</p>
                        </div>
                        <button onClick={() => setShowNewTask(true)} className="btn-primary px-4 py-2 rounded-xl font-semibold flex items-center gap-2">
                            <Icon name="plus" size={18} /> New Task
                        </button>
                    </div>
                    
                    {/* Kanban Board */}
                    <div className="flex-1 flex gap-4 overflow-x-auto pb-4">
                        {columns.map(column => {
                            const columnTasks = data.tasks.filter(t => t.status === column.id);
                            
                            return (
                                <div 
                                    key={column.id}
                                    className="flex-shrink-0 w-72 kanban-column"
                                    onDragOver={handleDragOver}
                                    onDrop={() => handleDrop(column.id)}
                                >
                                    <div className="flex items-center gap-2 mb-3 px-1">
                                        <div className={`w-3 h-3 rounded-full ${column.color}`} />
                                        <h3 className="font-semibold text-sm">{column.label}</h3>
                                        <span className="text-xs text-surface-500 bg-surface-800 px-2 py-0.5 rounded-full ml-auto">
                                            {columnTasks.length}
                                        </span>
                                    </div>
                                    
                                    <div className="space-y-3 glass-light rounded-xl p-3 min-h-[400px]">
                                        {columnTasks.map(task => {
                                            const assignee = data.members.find(m => m.id === task.assignee);
                                            const project = data.projects.find(p => p.id === task.projectId);
                                            
                                            return (
                                                <div
                                                    key={task.id}
                                                    draggable
                                                    onDragStart={() => handleDragStart(task)}
                                                    className={`task-card glass-card rounded-xl p-4 cursor-grab border-l-4 priority-${task.priority} ${draggedTask?.id === task.id ? 'dragging' : ''}`}
                                                >
                                                    <div className="flex items-start justify-between mb-2">
                                                        <span className="text-xs text-surface-500">{project?.name}</span>
                                                        <PriorityBadge priority={task.priority} />
                                                    </div>
                                                    <h4 className="font-semibold text-sm mb-3">{task.title}</h4>
                                                    
                                                    {task.subtasks?.length > 0 && (
                                                        <div className="mb-3">
                                                            <div className="flex items-center gap-2 text-xs text-surface-500 mb-1">
                                                                <Icon name="check" size={12} />
                                                                <span>{task.subtasks.filter(s => s.completed).length}/{task.subtasks.length} subtasks</span>
                                                            </div>
                                                            <ProgressBar 
                                                                value={Math.round((task.subtasks.filter(s => s.completed).length / task.subtasks.length) * 100)} 
                                                                size="sm" 
                                                            />
                                                        </div>
                                                    )}
                                                    
                                                    <div className="flex items-center justify-between pt-3 border-t border-white/5">
                                                        <Avatar src={assignee?.avatar} name={assignee?.name} size="sm" />
                                                        <div className="flex items-center gap-1 text-surface-500 text-xs">
                                                            <Icon name="calendar" size={12} />
                                                            {new Date(task.dueDate).toLocaleDateString()}
                                                        </div>
                                                    </div>
                                                </div>
                                            );
                                        })}
                                        
                                        {columnTasks.length === 0 && (
                                            <div className="h-32 flex items-center justify-center text-surface-600 text-sm">
                                                Drop tasks here
                                            </div>
                                        )}
                                    </div>
                                </div>
                            );
                        })}
                    </div>
                    
                    {/* New Task Modal */}
                    <Modal isOpen={showNewTask} onClose={() => setShowNewTask(false)} title="Create New Task">
                        <form className="space-y-4">
                            <div>
                                <label className="block text-sm font-medium text-surface-300 mb-1">Task Title</label>
                                <input type="text" className="input-dark w-full px-4 py-3 rounded-xl" placeholder="Enter task title..." />
                            </div>
                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-sm font-medium text-surface-300 mb-1">Project</label>
                                    <select className="input-dark w-full px-4 py-3 rounded-xl">
                                        {data.projects.map(p => <option key={p.id} value={p.id}>{p.name}</option>)}
                                    </select>
                                </div>
                                <div>
                                    <label className="block text-sm font-medium text-surface-300 mb-1">Assignee</label>
                                    <select className="input-dark w-full px-4 py-3 rounded-xl">
                                        {data.members.map(m => <option key={m.id} value={m.id}>{m.name}</option>)}
                                    </select>
                                </div>
                            </div>
                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-sm font-medium text-surface-300 mb-1">Priority</label>
                                    <select className="input-dark w-full px-4 py-3 rounded-xl">
                                        {PRIORITY_LEVELS.map(p => <option key={p} value={p}>{p.charAt(0).toUpperCase() + p.slice(1)}</option>)}
                                    </select>
                                </div>
                                <div>
                                    <label className="block text-sm font-medium text-surface-300 mb-1">Due Date</label>
                                    <input type="date" className="input-dark w-full px-4 py-3 rounded-xl" />
                                </div>
                            </div>
                            <div className="flex justify-end gap-3 pt-4">
                                <button type="button" onClick={() => setShowNewTask(false)} className="px-4 py-2 text-surface-400">Cancel</button>
                                <button type="submit" className="btn-primary px-6 py-2 rounded-xl font-semibold">Create Task</button>
                            </div>
                        </form>
                    </Modal>
                </div>
            );
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // TEAM VIEW
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const TeamView = ({ data, setData }) => {
            const [selectedDepartment, setSelectedDepartment] = useState('All');
            const [showAddMember, setShowAddMember] = useState(false);
            
            const filteredMembers = selectedDepartment === 'All' 
                ? data.members 
                : data.members.filter(m => m.department === selectedDepartment);
            
            return (
                <div className="space-y-6 animate-fade-in">
                    <div className="flex items-center justify-between">
                        <div>
                            <h1 className="font-display text-2xl font-bold">Team Directory</h1>
                            <p className="text-surface-400 mt-1">{data.members.length} team members across {DEPARTMENTS.length} departments</p>
                        </div>
                        <button onClick={() => setShowAddMember(true)} className="btn-primary px-4 py-2 rounded-xl font-semibold flex items-center gap-2">
                            <Icon name="plus" size={18} /> Add Member
                        </button>
                    </div>
                    
                    {/* Department Filters */}
                    <div className="flex items-center gap-2 flex-wrap">
                        <button 
                            onClick={() => setSelectedDepartment('All')}
                            className={`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${selectedDepartment === 'All' ? 'bg-nexus-600/20 border border-nexus-500/30 text-nexus-300' : 'bg-surface-800/50 text-surface-400 hover:bg-surface-700/50'}`}
                        >
                            All ({data.members.length})
                        </button>
                        {['Executive', ...DEPARTMENTS].map(dept => {
                            const count = data.members.filter(m => m.department === dept).length;
                            if (count === 0) return null;
                            return (
                                <button 
                                    key={dept}
                                    onClick={() => setSelectedDepartment(dept)}
                                    className={`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${selectedDepartment === dept ? 'bg-nexus-600/20 border border-nexus-500/30 text-nexus-300' : 'bg-surface-800/50 text-surface-400 hover:bg-surface-700/50'}`}
                                >
                                    {dept} ({count})
                                </button>
                            );
                        })}
                    </div>
                    
                    {/* Team Grid */}
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                        {filteredMembers.map(member => {
                            const reportsTo = data.members.find(m => m.id === member.reportsTo);
                            
                            return (
                                <div key={member.id} className="glass-card rounded-2xl p-5 hover:border-nexus-500/30 transition-all">
                                    <div className="text-center mb-4">
                                        <Avatar src={member.avatar} name={member.name} size="xl" className="mx-auto mb-3" />
                                        <h3 className="font-display font-semibold">{member.name}</h3>
                                        <p className="text-surface-500 text-sm">{member.department}</p>
                                        <div className="mt-2">
                                            <RoleBadge role={member.role} />
                                        </div>
                                    </div>
                                    
                                    <div className="space-y-2 pt-4 border-t border-white/5">
                                        <div className="flex items-center gap-2 text-sm text-surface-400">
                                            <Icon name="message" size={14} />
                                            <span className="truncate">{member.email}</span>
                                        </div>
                                        {reportsTo && (
                                            <div className="flex items-center gap-2 text-sm text-surface-400">
                                                <Icon name="user" size={14} />
                                                <span>Reports to {reportsTo.name}</span>
                                            </div>
                                        )}
                                    </div>
                                    
                                    <div className="flex gap-2 mt-4">
                                        <button className="flex-1 btn-ghost py-2 rounded-lg text-sm font-medium">
                                            <Icon name="message" size={14} className="inline mr-1" /> Message
                                        </button>
                                        <button className="flex-1 btn-ghost py-2 rounded-lg text-sm font-medium">
                                            <Icon name="user" size={14} className="inline mr-1" /> Profile
                                        </button>
                                    </div>
                                </div>
                            );
                        })}
                    </div>
                    
                    {/* Add Member Modal */}
                    <Modal isOpen={showAddMember} onClose={() => setShowAddMember(false)} title="Add Team Member">
                        <form className="space-y-4">
                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-sm font-medium text-surface-300 mb-1">Full Name</label>
                                    <input type="text" className="input-dark w-full px-4 py-3 rounded-xl" placeholder="John Doe" />
                                </div>
                                <div>
                                    <label className="block text-sm font-medium text-surface-300 mb-1">Email</label>
                                    <input type="email" className="input-dark w-full px-4 py-3 rounded-xl" placeholder="john@company.com" />
                                </div>
                            </div>
                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-sm font-medium text-surface-300 mb-1">Role</label>
                                    <select className="input-dark w-full px-4 py-3 rounded-xl">
                                        {Object.entries(ROLE_HIERARCHY).map(([key, val]) => (
                                            <option key={key} value={key}>{val.label}</option>
                                        ))}
                                    </select>
                                </div>
                                <div>
                                    <label className="block text-sm font-medium text-surface-300 mb-1">Department</label>
                                    <select className="input-dark w-full px-4 py-3 rounded-xl">
                                        {DEPARTMENTS.map(d => <option key={d}>{d}</option>)}
                                    </select>
                                </div>
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-surface-300 mb-1">Reports To</label>
                                <select className="input-dark w-full px-4 py-3 rounded-xl">
                                    <option value="">-- Select Manager --</option>
                                    {data.members.filter(m => ['founder', 'ceo', 'cto', 'director', 'manager', 'lead'].includes(m.role)).map(m => (
                                        <option key={m.id} value={m.id}>{m.name} - {ROLE_HIERARCHY[m.role].label}</option>
                                    ))}
                                </select>
                            </div>
                            <div className="flex justify-end gap-3 pt-4">
                                <button type="button" onClick={() => setShowAddMember(false)} className="px-4 py-2 text-surface-400">Cancel</button>
                                <button type="submit" className="btn-primary px-6 py-2 rounded-xl font-semibold">Add Member</button>
                            </div>
                        </form>
                    </Modal>
                </div>
            );
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // HIERARCHY / ORG CHART VIEW
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const HierarchyView = ({ data }) => {
            const buildTree = (members, parentId = null) => {
                return members
                    .filter(m => m.reportsTo === parentId)
                    .map(m => ({
                        ...m,
                        children: buildTree(members, m.id)
                    }));
            };
            
            const tree = buildTree(data.members);
            
            const OrgNode = ({ member, level = 0 }) => {
                const [expanded, setExpanded] = useState(true);
                const hasChildren = member.children?.length > 0;
                
                return (
                    <div className="relative">
                        <div 
                            className={`flex items-center gap-4 p-4 glass-card rounded-xl mb-3 cursor-pointer hover:border-nexus-500/30 transition-all ${level === 0 ? 'border-2 border-amber-500/30' : ''}`}
                            onClick={() => hasChildren && setExpanded(!expanded)}
                            style={{ marginLeft: level * 40 }}
                        >
                            {hasChildren && (
                                <div className={`transition-transform ${expanded ? 'rotate-90' : ''}`}>
                                    <Icon name="chevronRight" size={16} className="text-surface-500" />
                                </div>
                            )}
                            {!hasChildren && <div className="w-4" />}
                            
                            <Avatar src={member.avatar} name={member.name} size="md" />
                            
                            <div className="flex-1">
                                <div className="flex items-center gap-2">
                                    <h4 className="font-semibold">{member.name}</h4>
                                    <RoleBadge role={member.role} />
                                </div>
                                <p className="text-sm text-surface-500">{member.department}</p>
                            </div>
                            
                            {hasChildren && (
                                <Badge variant="info" size="xs">
                                    {member.children.length} reports
                                </Badge>
                            )}
                        </div>
                        
                        {expanded && hasChildren && (
                            <div className="relative">
                                <div 
                                    className="absolute left-0 top-0 bottom-0 w-0.5 bg-gradient-to-b from-nexus-500/30 to-transparent"
                                    style={{ marginLeft: level * 40 + 20 }}
                                />
                                {member.children.map(child => (
                                    <OrgNode key={child.id} member={child} level={level + 1} />
                                ))}
                            </div>
                        )}
                    </div>
                );
            };
            
            return (
                <div className="space-y-6 animate-fade-in">
                    <div>
                        <h1 className="font-display text-2xl font-bold">Organization Chart</h1>
                        <p className="text-surface-400 mt-1">View the complete company hierarchy and reporting structure</p>
                    </div>
                    
                    <div className="glass-card rounded-2xl p-6">
                        {tree.map(member => (
                            <OrgNode key={member.id} member={member} />
                        ))}
                    </div>
                </div>
            );
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // GOALS VIEW
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const GoalsView = ({ data, setData }) => {
            const [activeTab, setActiveTab] = useState('all');
            const [showNewGoal, setShowNewGoal] = useState(false);
            
            const tabs = [
                { id: 'all', label: 'All Goals' },
                { id: 'company', label: 'Company' },
                { id: 'department', label: 'Department' },
                { id: 'team', label: 'Team' },
                { id: 'personal', label: 'Personal' },
            ];
            
            const filteredGoals = activeTab === 'all' ? data.goals : data.goals.filter(g => g.type === activeTab);
            
            return (
                <div className="space-y-6 animate-fade-in">
                    <div className="flex items-center justify-between">
                        <div>
                            <h1 className="font-display text-2xl font-bold">Goals & OKRs</h1>
                            <p className="text-surface-400 mt-1">Track objectives across all levels of the organization</p>
                        </div>
                        <button onClick={() => setShowNewGoal(true)} className="btn-primary px-4 py-2 rounded-xl font-semibold flex items-center gap-2">
                            <Icon name="plus" size={18} /> New Goal
                        </button>
                    </div>
                    
                    <Tabs tabs={tabs} activeTab={activeTab} onChange={setActiveTab} />
                    
                    {/* Goals Grid */}
                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-4">
                        {filteredGoals.map(goal => {
                            const owner = data.members.find(m => m.id === goal.owner);
                            const statusConfig = {
                                on_track: { color: 'text-emerald-400', bg: 'bg-emerald-500/20', icon: 'check' },
                                at_risk: { color: 'text-amber-400', bg: 'bg-amber-500/20', icon: 'flag' },
                                behind: { color: 'text-red-400', bg: 'bg-red-500/20', icon: 'x' },
                                ahead: { color: 'text-nexus-400', bg: 'bg-nexus-500/20', icon: 'zap' },
                            };
                            const status = statusConfig[goal.status];
                            const horizonColors = {
                                short: 'from-emerald-500 to-teal-600',
                                mid: 'from-nexus-500 to-indigo-600',
                                long: 'from-purple-500 to-pink-600',
                            };
                            
                            return (
                                <div key={goal.id} className="glass-card rounded-2xl p-5">
                                    <div className="flex items-start justify-between mb-4">
                                        <div className={`w-12 h-12 rounded-xl bg-gradient-to-br ${horizonColors[goal.horizon]} flex items-center justify-center`}>
                                            <Icon name="goals" size={22} className="text-white" />
                                        </div>
                                        <div className={`flex items-center gap-2 ${status.bg} ${status.color} px-3 py-1 rounded-full text-xs font-semibold uppercase`}>
                                            <Icon name={status.icon} size={12} />
                                            {goal.status.replace('_', ' ')}
                                        </div>
                                    </div>
                                    
                                    <h3 className="font-display font-semibold text-lg mb-1">{goal.title}</h3>
                                    <div className="flex items-center gap-2 mb-4">
                                        <Badge variant={goal.type === 'company' ? 'primary' : goal.type === 'department' ? 'info' : 'default'} size="xs">
                                            {goal.type}
                                        </Badge>
                                        <Badge variant="default" size="xs">
                                            {goal.horizon} term
                                        </Badge>
                                    </div>
                                    
                                    <div className="space-y-2 mb-4">
                                        <div className="flex items-center justify-between text-sm">
                                            <span className="text-surface-500">Progress</span>
                                            <span className="font-mono font-semibold">{goal.progress}%</span>
                                        </div>
                                        <ProgressBar value={goal.progress} size="lg" />
                                    </div>
                                    
                                    <div className="flex items-center justify-between pt-4 border-t border-white/5">
                                        <div className="flex items-center gap-2">
                                            <Avatar src={owner?.avatar} name={owner?.name} size="sm" />
                                            <span className="text-sm text-surface-400">{owner?.name}</span>
                                        </div>
                                        <button className="btn-ghost px-3 py-1 rounded-lg text-sm">
                                            <Icon name="edit" size={14} className="inline mr-1" /> Edit
                                        </button>
                                    </div>
                                </div>
                            );
                        })}
                    </div>
                    
                    {/* New Goal Modal */}
                    <Modal isOpen={showNewGoal} onClose={() => setShowNewGoal(false)} title="Create New Goal">
                        <form className="space-y-4">
                            <div>
                                <label className="block text-sm font-medium text-surface-300 mb-1">Goal Title</label>
                                <input type="text" className="input-dark w-full px-4 py-3 rounded-xl" placeholder="Enter goal title..." />
                            </div>
                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-sm font-medium text-surface-300 mb-1">Type</label>
                                    <select className="input-dark w-full px-4 py-3 rounded-xl">
                                        <option value="company">Company</option>
                                        <option value="department">Department</option>
                                        <option value="team">Team</option>
                                        <option value="personal">Personal</option>
                                    </select>
                                </div>
                                <div>
                                    <label className="block text-sm font-medium text-surface-300 mb-1">Horizon</label>
                                    <select className="input-dark w-full px-4 py-3 rounded-xl">
                                        <option value="short">Short Term (1-3 months)</option>
                                        <option value="mid">Mid Term (3-12 months)</option>
                                        <option value="long">Long Term (1+ years)</option>
                                    </select>
                                </div>
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-surface-300 mb-1">Owner</label>
                                <select className="input-dark w-full px-4 py-3 rounded-xl">
                                    {data.members.map(m => <option key={m.id} value={m.id}>{m.name}</option>)}
                                </select>
                            </div>
                            <div className="flex justify-end gap-3 pt-4">
                                <button type="button" onClick={() => setShowNewGoal(false)} className="px-4 py-2 text-surface-400">Cancel</button>
                                <button type="submit" className="btn-primary px-6 py-2 rounded-xl font-semibold">Create Goal</button>
                            </div>
                        </form>
                    </Modal>
                </div>
            );
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // VISION BOARD VIEW
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const VisionBoardView = ({ data, setData }) => {
            const [activeBoard, setActiveBoard] = useState(data.visionBoards[0]);
            const [draggedElement, setDraggedElement] = useState(null);
            const [showAddElement, setShowAddElement] = useState(false);
            
            const handleDragStart = (e, element) => {
                setDraggedElement({ element, startX: e.clientX, startY: e.clientY });
            };
            
            const handleDrag = (e) => {
                if (!draggedElement) return;
                
                const deltaX = e.clientX - draggedElement.startX;
                const deltaY = e.clientY - draggedElement.startY;
                
                const updatedElements = activeBoard.elements.map(el => 
                    el.id === draggedElement.element.id
                        ? { ...el, x: draggedElement.element.x + deltaX, y: draggedElement.element.y + deltaY }
                        : el
                );
                
                setActiveBoard({ ...activeBoard, elements: updatedElements });
            };
            
            const handleDragEnd = () => {
                if (!draggedElement) return;
                
                const updatedBoards = data.visionBoards.map(b => 
                    b.id === activeBoard.id ? activeBoard : b
                );
                setData({ ...data, visionBoards: updatedBoards });
                setDraggedElement(null);
            };
            
            const addElement = (type) => {
                const newElement = {
                    id: `e${Date.now()}`,
                    type,
                    content: type === 'text' ? 'âœ¨ New Dream' : 'https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=300',
                    x: 100 + activeBoard.elements.length * 20,
                    y: 100 + activeBoard.elements.length * 20,
                    width: type === 'text' ? 180 : 200,
                    height: type === 'text' ? 80 : 150,
                    color: type === 'text' ? 'bg-gradient-to-br from-amber-400 to-orange-500' : ''
                };
                
                const updatedBoard = { ...activeBoard, elements: [...activeBoard.elements, newElement] };
                setActiveBoard(updatedBoard);
                
                const updatedBoards = data.visionBoards.map(b => b.id === activeBoard.id ? updatedBoard : b);
                setData({ ...data, visionBoards: updatedBoards });
                setShowAddElement(false);
            };
            
            const deleteElement = (elementId) => {
                const updatedElements = activeBoard.elements.filter(el => el.id !== elementId);
                const updatedBoard = { ...activeBoard, elements: updatedElements };
                setActiveBoard(updatedBoard);
                
                const updatedBoards = data.visionBoards.map(b => b.id === activeBoard.id ? updatedBoard : b);
                setData({ ...data, visionBoards: updatedBoards });
            };
            
            return (
                <div className="h-full flex flex-col animate-fade-in">
                    <div className="flex items-center justify-between mb-6">
                        <div className="flex items-center gap-4">
                            <select 
                                value={activeBoard?.id}
                                onChange={(e) => setActiveBoard(data.visionBoards.find(b => b.id === e.target.value))}
                                className="input-dark px-4 py-2 rounded-xl font-semibold"
                            >
                                {data.visionBoards.map(b => (
                                    <option key={b.id} value={b.id}>{b.title}</option>
                                ))}
                            </select>
                            <button className="btn-ghost p-2 rounded-lg">
                                <Icon name="plus" size={18} />
                            </button>
                        </div>
                        <div className="flex items-center gap-2">
                            <button onClick={() => addElement('text')} className="btn-ghost px-4 py-2 rounded-xl flex items-center gap-2">
                                <Icon name="type" size={16} /> Add Text
                            </button>
                            <button onClick={() => addElement('image')} className="btn-ghost px-4 py-2 rounded-xl flex items-center gap-2">
                                <Icon name="image" size={16} /> Add Image
                            </button>
                        </div>
                    </div>
                    
                    {/* Canvas */}
                    <div 
                        className="flex-1 glass-card rounded-2xl relative overflow-hidden"
                        style={{ 
                            backgroundImage: 'radial-gradient(rgba(99,102,241,0.1) 1px, transparent 1px)',
                            backgroundSize: '20px 20px'
                        }}
                        onMouseMove={handleDrag}
                        onMouseUp={handleDragEnd}
                        onMouseLeave={handleDragEnd}
                    >
                        {activeBoard?.elements.map(element => (
                            <div
                                key={element.id}
                                className={`vision-element absolute rounded-xl overflow-hidden ${element.type === 'text' ? `${element.color} p-4` : 'border-4 border-white/20'}`}
                                style={{
                                    left: element.x,
                                    top: element.y,
                                    width: element.width,
                                    minHeight: element.height,
                                }}
                                onMouseDown={(e) => handleDragStart(e, element)}
                            >
                                {element.type === 'text' ? (
                                    <p className="text-white font-bold text-center">{element.content}</p>
                                ) : (
                                    <img src={element.content} className="w-full h-full object-cover" draggable={false} />
                                )}
                                
                                <button 
                                    onClick={() => deleteElement(element.id)}
                                    className="absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center text-white opacity-0 hover:opacity-100 transition-opacity"
                                >
                                    <Icon name="x" size={12} />
                                </button>
                            </div>
                        ))}
                        
                        {activeBoard?.elements.length === 0 && (
                            <div className="absolute inset-0 flex items-center justify-center text-surface-500">
                                <div className="text-center">
                                    <Icon name="vision" size={48} className="mx-auto mb-4 opacity-30" />
                                    <p className="text-lg font-semibold">Start Building Your Vision</p>
                                    <p className="text-sm">Add text or images to visualize your goals</p>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ANALYTICS VIEW
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const AnalyticsView = ({ data }) => {
            const chartRef1 = useRef(null);
            const chartRef2 = useRef(null);
            
            useEffect(() => {
                // Project Progress Chart
                if (chartRef1.current) {
                    const ctx = chartRef1.current.getContext('2d');
                    new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: data.projects.map(p => p.name),
                            datasets: [{
                                label: 'Progress %',
                                data: data.projects.map(p => p.progress),
                                backgroundColor: ['rgba(99, 102, 241, 0.8)', 'rgba(139, 92, 246, 0.8)', 'rgba(168, 85, 247, 0.8)'],
                                borderRadius: 8,
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: { legend: { display: false } },
                            scales: {
                                y: { max: 100, grid: { color: 'rgba(255,255,255,0.05)' }, ticks: { color: 'rgba(255,255,255,0.5)' } },
                                x: { grid: { display: false }, ticks: { color: 'rgba(255,255,255,0.5)' } }
                            }
                        }
                    });
                }
                
                // Task Distribution Chart
                if (chartRef2.current) {
                    const ctx = chartRef2.current.getContext('2d');
                    const taskCounts = TASK_STATUS.map(status => data.tasks.filter(t => t.status === status).length);
                    new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: ['Backlog', 'To Do', 'In Progress', 'Review', 'Completed'],
                            datasets: [{
                                data: taskCounts,
                                backgroundColor: ['rgba(100, 116, 139, 0.8)', 'rgba(59, 130, 246, 0.8)', 'rgba(245, 158, 11, 0.8)', 'rgba(168, 85, 247, 0.8)', 'rgba(34, 197, 94, 0.8)'],
                                borderWidth: 0,
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: { legend: { position: 'bottom', labels: { color: 'rgba(255,255,255,0.7)', padding: 20 } } },
                            cutout: '60%'
                        }
                    });
                }
            }, [data]);
            
            const metrics = [
                { label: 'Total Budget', value: `$${data.projects.reduce((a, p) => a + p.budget, 0).toLocaleString()}`, icon: 'briefcase', trend: '+12%' },
                { label: 'Tasks Completed', value: data.tasks.filter(t => t.status === 'completed').length, icon: 'check', trend: '+8' },
                { label: 'Active Goals', value: data.goals.filter(g => g.status === 'on_track').length, icon: 'goals', trend: '85%' },
                { label: 'Team Efficiency', value: '92%', icon: 'zap', trend: '+5%' },
            ];
            
            return (
                <div className="space-y-6 animate-fade-in">
                    <div>
                        <h1 className="font-display text-2xl font-bold">Analytics Dashboard</h1>
                        <p className="text-surface-400 mt-1">Performance metrics and insights across the organization</p>
                    </div>
                    
                    {/* Metrics */}
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        {metrics.map((metric, idx) => (
                            <div key={idx} className="glass-card rounded-2xl p-5">
                                <div className="flex items-center justify-between mb-3">
                                    <div className="w-10 h-10 rounded-lg bg-nexus-500/20 flex items-center justify-center">
                                        <Icon name={metric.icon} size={18} className="text-nexus-400" />
                                    </div>
                                    <Badge variant="success" size="xs">{metric.trend}</Badge>
                                </div>
                                <p className="text-2xl font-display font-bold">{metric.value}</p>
                                <p className="text-surface-500 text-sm">{metric.label}</p>
                            </div>
                        ))}
                    </div>
                    
                    {/* Charts */}
                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div className="glass-card rounded-2xl p-5">
                            <h3 className="font-display font-semibold mb-4">Project Progress</h3>
                            <div className="chart-container">
                                <canvas ref={chartRef1}></canvas>
                            </div>
                        </div>
                        <div className="glass-card rounded-2xl p-5">
                            <h3 className="font-display font-semibold mb-4">Task Distribution</h3>
                            <div className="chart-container">
                                <canvas ref={chartRef2}></canvas>
                            </div>
                        </div>
                    </div>
                    
                    {/* Department Performance */}
                    <div className="glass-card rounded-2xl p-5">
                        <h3 className="font-display font-semibold mb-4">Department Performance</h3>
                        <div className="space-y-4">
                            {DEPARTMENTS.slice(0, 5).map((dept, idx) => {
                                const performance = [92, 87, 78, 95, 82][idx];
                                return (
                                    <div key={dept} className="flex items-center gap-4">
                                        <span className="w-28 text-sm font-medium">{dept}</span>
                                        <div className="flex-1">
                                            <ProgressBar value={performance} size="md" showLabel />
                                        </div>
                                    </div>
                                );
                            })}
                        </div>
                    </div>
                </div>
            );
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // WORKFLOWS VIEW
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const WorkflowsView = ({ data, setData }) => {
            const [showNewWorkflow, setShowNewWorkflow] = useState(false);
            
            return (
                <div className="space-y-6 animate-fade-in">
                    <div className="flex items-center justify-between">
                        <div>
                            <h1 className="font-display text-2xl font-bold">Workflows</h1>
                            <p className="text-surface-400 mt-1">Automate processes and approval chains</p>
                        </div>
                        <button onClick={() => setShowNewWorkflow(true)} className="btn-primary px-4 py-2 rounded-xl font-semibold flex items-center gap-2">
                            <Icon name="plus" size={18} /> New Workflow
                        </button>
                    </div>
                    
                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-4">
                        {data.workflows.map(workflow => (
                            <div key={workflow.id} className="glass-card rounded-2xl p-5">
                                <div className="flex items-start justify-between mb-4">
                                    <div className="flex items-center gap-3">
                                        <div className="w-12 h-12 rounded-xl bg-gradient-to-br from-nexus-500 to-purple-600 flex items-center justify-center">
                                            <Icon name="workflows" size={22} className="text-white" />
                                        </div>
                                        <div>
                                            <h3 className="font-semibold">{workflow.name}</h3>
                                            <p className="text-sm text-surface-500">Trigger: {workflow.trigger.replace('_', ' ')}</p>
                                        </div>
                                    </div>
                                    <Badge variant={workflow.active ? 'success' : 'default'}>
                                        {workflow.active ? 'Active' : 'Inactive'}
                                    </Badge>
                                </div>
                                
                                <div className="space-y-2 mb-4">
                                    <p className="text-xs text-surface-500 uppercase font-semibold">Steps</p>
                                    <div className="flex items-center gap-2 flex-wrap">
                                        {workflow.steps.map((step, idx) => (
                                            <React.Fragment key={idx}>
                                                <span className="px-3 py-1 bg-surface-800 rounded-lg text-sm">
                                                    {step.replace(/_/g, ' ')}
                                                </span>
                                                {idx < workflow.steps.length - 1 && (
                                                    <Icon name="chevronRight" size={14} className="text-surface-600" />
                                                )}
                                            </React.Fragment>
                                        ))}
                                    </div>
                                </div>
                                
                                <div className="flex gap-2 pt-4 border-t border-white/5">
                                    <button className="flex-1 btn-ghost py-2 rounded-lg text-sm">
                                        <Icon name="edit" size={14} className="inline mr-1" /> Edit
                                    </button>
                                    <button className="flex-1 btn-ghost py-2 rounded-lg text-sm">
                                        <Icon name="activity" size={14} className="inline mr-1" /> History
                                    </button>
                                </div>
                            </div>
                        ))}
                    </div>
                    
                    {/* Templates */}
                    <div>
                        <h3 className="font-display font-semibold mb-4">Workflow Templates</h3>
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                            {[
                                { name: 'Leave Request', description: 'Employee â†’ Manager â†’ HR', icon: 'calendar' },
                                { name: 'Expense Approval', description: 'Employee â†’ Manager â†’ Finance', icon: 'briefcase' },
                                { name: 'Document Review', description: 'Author â†’ Reviewer â†’ Approver', icon: 'folder' },
                            ].map((template, idx) => (
                                <div key={idx} className="glass-light rounded-xl p-4 cursor-pointer hover:bg-white/10 transition-colors border border-dashed border-white/10">
                                    <div className="flex items-center gap-3 mb-2">
                                        <Icon name={template.icon} size={18} className="text-nexus-400" />
                                        <span className="font-semibold text-sm">{template.name}</span>
                                    </div>
                                    <p className="text-xs text-surface-500">{template.description}</p>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // SETTINGS VIEW
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const SettingsView = ({ data, setData, onLogout }) => {
            return (
                <div className="space-y-6 animate-fade-in max-w-3xl">
                    <div>
                        <h1 className="font-display text-2xl font-bold">Settings</h1>
                        <p className="text-surface-400 mt-1">Manage your organization and preferences</p>
                    </div>
                    
                    {/* Company Settings */}
                    <div className="glass-card rounded-2xl p-6">
                        <h3 className="font-display font-semibold mb-4 flex items-center gap-2">
                            <Icon name="building" size={18} className="text-nexus-400" />
                            Company Settings
                        </h3>
                        <div className="space-y-4">
                            <div>
                                <label className="block text-sm font-medium text-surface-300 mb-1">Company Name</label>
                                <input 
                                    type="text" 
                                    value={data.company.name}
                                    onChange={(e) => setData({ ...data, company: { ...data.company, name: e.target.value } })}
                                    className="input-dark w-full px-4 py-3 rounded-xl" 
                                />
                            </div>
                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-sm font-medium text-surface-300 mb-1">Industry</label>
                                    <input 
                                        type="text" 
                                        value={data.company.industry}
                                        onChange={(e) => setData({ ...data, company: { ...data.company, industry: e.target.value } })}
                                        className="input-dark w-full px-4 py-3 rounded-xl" 
                                    />
                                </div>
                                <div>
                                    <label className="block text-sm font-medium text-surface-300 mb-1">Founded</label>
                                    <input 
                                        type="text" 
                                        value={data.company.founded}
                                        onChange={(e) => setData({ ...data, company: { ...data.company, founded: e.target.value } })}
                                        className="input-dark w-full px-4 py-3 rounded-xl" 
                                    />
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    {/* Role Management */}
                    <div className="glass-card rounded-2xl p-6">
                        <h3 className="font-display font-semibold mb-4 flex items-center gap-2">
                            <Icon name="shield" size={18} className="text-nexus-400" />
                            Role Permissions
                        </h3>
                        <div className="space-y-3">
                            {Object.entries(ROLE_HIERARCHY).map(([key, role]) => (
                                <div key={key} className="flex items-center justify-between p-3 rounded-lg bg-surface-800/50">
                                    <div className="flex items-center gap-3">
                                        <RoleBadge role={key} />
                                        <span className="text-sm">Level {role.level}</span>
                                    </div>
                                    <div className="flex gap-1">
                                        {role.permissions.slice(0, 3).map(p => (
                                            <Badge key={p} variant="default" size="xs">{p}</Badge>
                                        ))}
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                    
                    {/* Danger Zone */}
                    <div className="glass-card rounded-2xl p-6 border-red-500/30">
                        <h3 className="font-display font-semibold mb-4 text-red-400">Danger Zone</h3>
                        <div className="flex items-center justify-between">
                            <div>
                                <p className="font-medium">Sign Out</p>
                                <p className="text-sm text-surface-500">End your current session</p>
                            </div>
                            <button onClick={onLogout} className="px-4 py-2 bg-red-500/20 text-red-400 rounded-xl hover:bg-red-500/30 transition-colors font-medium">
                                Sign Out
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // LOGIN SCREEN
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const LoginScreen = ({ onLogin }) => {
            return (
                <div className="min-h-screen flex items-center justify-center p-4 relative overflow-hidden">
                    {/* Animated Background */}
                    <div className="absolute inset-0 bg-gradient-to-br from-surface-950 via-nexus-950 to-surface-950" />
                    <div className="absolute inset-0 opacity-30">
                        <div className="absolute top-1/4 left-1/4 w-96 h-96 bg-nexus-600 rounded-full filter blur-[120px] animate-pulse" />
                        <div className="absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-600 rounded-full filter blur-[120px] animate-pulse" style={{ animationDelay: '1s' }} />
                    </div>
                    
                    <div className="relative glass-elevated rounded-3xl p-10 max-w-md w-full text-center animate-scale-in">
                        <div className="w-20 h-20 rounded-2xl gradient-accent flex items-center justify-center mx-auto mb-6 shadow-2xl shadow-nexus-500/30 animate-pulse-glow">
                            <Icon name="zap" size={40} className="text-white" />
                        </div>
                        
                        <h1 className="font-display text-3xl font-bold mb-2 gradient-text">FocusFlow</h1>
                        <p className="text-surface-400 mb-8">Enterprise Command Center</p>
                        
                        <button 
                            onClick={onLogin}
                            className="w-full btn-primary py-4 rounded-xl font-semibold text-lg flex items-center justify-center gap-3 shadow-xl shadow-nexus-500/20"
                        >
                            <svg className="w-6 h-6" viewBox="0 0 24 24"><path fill="currentColor" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="currentColor" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="currentColor" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="currentColor" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
                            Sign in with Google
                        </button>
                        
                        <p className="text-xs text-surface-600 mt-6">
                            Industry-Grade Enterprise Management
                        </p>
                    </div>
                </div>
            );
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // MAIN APP
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const App = () => {
            const [user, setUser] = useState(null);
            const [loading, setLoading] = useState(true);
            const [activeView, setActiveView] = useState('dashboard');
            const [sidebarCollapsed, setSidebarCollapsed] = useState(false);
            const [data, setData] = useState(generateSampleData());
            
            useEffect(() => {
                if (!isFirebaseEnabled) {
                    setLoading(false);
                    return;
                }
                
                return auth.onAuthStateChanged((u) => {
                    setUser(u);
                    setLoading(false);
                    
                    if (u) {
                        // Load user data from Firestore
                        db.collection('users').doc(u.uid).collection('FocusFlow').doc('data').get()
                            .then(doc => {
                                if (doc.exists) {
                                    setData(doc.data());
                                }
                            });
                    }
                });
            }, []);
            
            // Auto-save data changes
            useEffect(() => {
                if (user && isFirebaseEnabled) {
                    const timeoutId = setTimeout(() => {
                        db.collection('users').doc(user.uid).collection('FocusFlow').doc('data').set(data);
                    }, 1000);
                    return () => clearTimeout(timeoutId);
                }
            }, [data, user]);
            
            const handleLogin = async () => {
                try {
                    await auth.signInWithPopup(new firebase.auth.GoogleAuthProvider());
                } catch (e) {
                    console.error(e);
                }
            };
            
            const handleLogout = () => auth.signOut();
            
            if (loading) {
                return (
                    <div className="min-h-screen flex items-center justify-center bg-surface-950">
                        <div className="w-16 h-16 rounded-2xl gradient-accent flex items-center justify-center animate-pulse">
                            <Icon name="zap" size={32} className="text-white" />
                        </div>
                    </div>
                );
            }
            
            if (!user) {
                return <LoginScreen onLogin={handleLogin} />;
            }
            
            const renderView = () => {
                switch (activeView) {
                    case 'dashboard': return <DashboardView data={data} />;
                    case 'projects': return <ProjectsView data={data} setData={setData} />;
                    case 'tasks': return <TasksView data={data} setData={setData} />;
                    case 'team': return <TeamView data={data} setData={setData} />;
                    case 'hierarchy': return <HierarchyView data={data} />;
                    case 'goals': return <GoalsView data={data} setData={setData} />;
                    case 'vision': return <VisionBoardView data={data} setData={setData} />;
                    case 'analytics': return <AnalyticsView data={data} />;
                    case 'workflows': return <WorkflowsView data={data} setData={setData} />;
                    case 'settings': return <SettingsView data={data} setData={setData} onLogout={handleLogout} />;
                    default: return <DashboardView data={data} />;
                }
            };
            
            return (
                <div className="h-screen flex overflow-hidden">
                    <Sidebar 
                        activeView={activeView} 
                        setActiveView={setActiveView}
                        collapsed={sidebarCollapsed}
                        setCollapsed={setSidebarCollapsed}
                    />
                    
                    <div className="flex-1 flex flex-col min-w-0">
                        <Header currentUser={user} onLogout={handleLogout} />
                        
                        <main className="flex-1 overflow-y-auto p-6 bg-gradient-to-br from-surface-950 via-surface-900 to-surface-950">
                            {renderView()}
                        </main>
                    </div>
                </div>
            );
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // RENDER
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
